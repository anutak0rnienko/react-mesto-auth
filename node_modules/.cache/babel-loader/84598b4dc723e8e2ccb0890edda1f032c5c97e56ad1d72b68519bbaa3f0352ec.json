{"ast":null,"code":"import _slicedToArray from\"/Users/annakornienko/Desktop/practicum/mesto-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import Card from\"./Card\";import api from\"../utils/api\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Main(_ref){var onEditAvatar=_ref.onEditAvatar,onEditProfile=_ref.onEditProfile,onAddPlace=_ref.onAddPlace,onCardClick=_ref.onCardClick;var _React$useState=React.useState(\"\"),_React$useState2=_slicedToArray(_React$useState,2),userName=_React$useState2[0],setUserName=_React$useState2[1];var _React$useState3=React.useState(\"\"),_React$useState4=_slicedToArray(_React$useState3,2),userDescription=_React$useState4[0],setUserDescription=_React$useState4[1];var _React$useState5=React.useState(\"\"),_React$useState6=_slicedToArray(_React$useState5,2),userAvatar=_React$useState6[0],setUserAvatar=_React$useState6[1];var _React$useState7=React.useState([]),_React$useState8=_slicedToArray(_React$useState7,2),cards=_React$useState8[0],getCards=_React$useState8[1];React.useEffect(function(){api.getUserInfoApi().then(function(userInfo){setUserName(userInfo.name);setUserDescription(userInfo.about);setUserAvatar(userInfo.avatar);}).catch(function(err){return console.log(err);});api.getInitialCardsApi().then(function(cardData){getCards(cardData.map(function(_ref2){var _id=_ref2._id,likes=_ref2.likes,name=_ref2.name,link=_ref2.link;return{likes:likes,name:name,link:link,cardId:_id};}));}).catch(function(err){return console.log(err);});},[]);return/*#__PURE__*/_jsxs(\"main\",{className:\"main-content\",children:[/*#__PURE__*/_jsxs(\"section\",{className:\"profile\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile__avatar\",children:[/*#__PURE__*/_jsx(\"img\",{src:userAvatar,alt:\"#\",className:\"profile__avatar-image\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"profile__avatar-button\",onClick:function onClick(){onEditAvatar(true);}})]}),/*#__PURE__*/_jsxs(\"article\",{className:\"profile__info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile__info-name\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"profile__name\",children:userName}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"profile__edit-button\",onClick:function onClick(){onEditProfile(true);}})]}),/*#__PURE__*/_jsx(\"p\",{className:\"profile__text\",children:userDescription})]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"profile__add-button\",onClick:function onClick(){onAddPlace(true);}})]}),/*#__PURE__*/_jsx(\"section\",{className:\"elements\",children:cards.map(function(card){return/*#__PURE__*/_jsx(Card,{likes:card.likes,name:card.name,link:card.link,onCardClick:onCardClick},card.cardId);})})]});}","map":{"version":3,"names":["React","Card","api","jsx","_jsx","jsxs","_jsxs","Main","_ref","onEditAvatar","onEditProfile","onAddPlace","onCardClick","_React$useState","useState","_React$useState2","_slicedToArray","userName","setUserName","_React$useState3","_React$useState4","userDescription","setUserDescription","_React$useState5","_React$useState6","userAvatar","setUserAvatar","_React$useState7","_React$useState8","cards","getCards","useEffect","getUserInfoApi","then","userInfo","name","about","avatar","catch","err","console","log","getInitialCardsApi","cardData","map","_ref2","_id","likes","link","cardId","className","children","src","alt","type","onClick","card"],"sources":["/Users/annakornienko/Desktop/practicum/mesto-react/src/components/Main.js"],"sourcesContent":["import React from \"react\";\nimport Card from \"./Card\";\nimport api from \"../utils/api\";\n\nexport default function Main({\n    onEditAvatar,\n    onEditProfile,\n    onAddPlace,\n    onCardClick,\n}) {\n    const [userName, setUserName] = React.useState(\"\");\n    const [userDescription, setUserDescription] = React.useState(\"\");\n    const [userAvatar, setUserAvatar] = React.useState(\"\");\n    const [cards, getCards] = React.useState([]);\n\n    React.useEffect(() => {\n        api.getUserInfoApi()\n            .then((userInfo) => {\n                setUserName(userInfo.name);\n                setUserDescription(userInfo.about);\n                setUserAvatar(userInfo.avatar);\n            })\n            .catch((err) => console.log(err));\n        api.getInitialCardsApi()\n            .then((cardData) => {\n                getCards(\n                    cardData.map(({_id, likes, name, link}) => ({\n                        likes: likes,\n                        name: name,\n                        link: link,\n                        cardId: _id,\n                    }))\n                );\n            })\n            .catch((err) => console.log(err));\n    }, []);\n\n    return (\n        <main className=\"main-content\">\n            <section className=\"profile\">\n                <div className=\"profile__avatar\">\n                    <img\n                        src={userAvatar}\n                        alt=\"#\"\n                        className=\"profile__avatar-image\"\n                    />\n                    <button\n                        type=\"button\"\n                        className=\"profile__avatar-button\"\n                        onClick={() => {\n                            onEditAvatar(true);\n                        }}\n                    ></button>\n                </div>\n                <article className=\"profile__info\">\n                    <div className=\"profile__info-name\">\n                        <h1 className=\"profile__name\">{userName}</h1>\n                        <button\n                            type=\"button\"\n                            className=\"profile__edit-button\"\n                            onClick={() => {\n                                onEditProfile(true);\n                            }}\n                        ></button>\n                    </div>\n                    <p className=\"profile__text\">{userDescription}</p>\n                </article>\n                <button\n                    type=\"button\"\n                    className=\"profile__add-button\"\n                    onClick={() => {\n                        onAddPlace(true);\n                    }}\n                ></button>\n            </section>\n            <section className=\"elements\">\n                {cards.map((card) => (\n                    <Card\n                        key={card.cardId}\n                        likes={card.likes}\n                        name={card.name}\n                        link={card.link}\n                        onCardClick={onCardClick}\n                    />\n                ))}\n            </section>\n        </main>\n    );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}